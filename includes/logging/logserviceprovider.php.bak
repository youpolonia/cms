<?php

namespace CMS\Logging;

class LogServiceProvider
{
    public static function register()
    {
        $config = require __DIR__ . '/../../config/logging.php';
        
        // Set default log path from config
        if (isset($config['default_path'])) {
            Logger::setLogPath($config['default_path']);
        }

        // Set default channel from config
        if (isset($config['default'])) {
            Logger::setDefaultChannel($config['default']);
        }

        return new self();
    }

    public function getLogger($channel = null)
    {
        return new Logger($channel);
    }
}
/**
 * TB4 Visual Builder - Core Styles
 * Theme Builder 4.0 - Professional Visual Page Builder
 * @version 1.0.0
 */

:root {
    --tb4-primary: #2563eb;
    --tb4-primary-hover: #1d4ed8;
    --tb4-primary-light: #dbeafe;
    --tb4-primary-dark: #1e40af;
    --tb4-secondary: #10b981;
    --tb4-secondary-hover: #059669;
    --tb4-accent: #f59e0b;
    --tb4-accent-hover: #d97706;
    --tb4-danger: #ef4444;
    --tb4-danger-hover: #dc2626;
    --tb4-warning: #f59e0b;
    --tb4-success: #10b981;
    --tb4-info: #3b82f6;
    --tb4-bg-dark: #1f2937;
    --tb4-bg-darker: #111827;
    --tb4-bg-sidebar: #f9fafb;
    --tb4-bg-canvas: #ffffff;
    --tb4-bg-overlay: rgba(0, 0, 0, 0.5);
    --tb4-bg-hover: #f3f4f6;
    --tb4-text-primary: #111827;
    --tb4-text-secondary: #6b7280;
    --tb4-text-muted: #9ca3af;
    --tb4-text-inverse: #ffffff;
    --tb4-text-link: #2563eb;
    --tb4-border: #e5e7eb;
    --tb4-border-hover: #d1d5db;
    --tb4-border-focus: #2563eb;
    --tb4-border-dark: #374151;
    --tb4-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --tb4-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --tb4-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --tb4-shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    --tb4-space-xs: 4px;
    --tb4-space-sm: 8px;
    --tb4-space-md: 16px;
    --tb4-space-lg: 24px;
    --tb4-space-xl: 32px;
    --tb4-space-2xl: 48px;
    --tb4-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --tb4-font-mono: 'Fira Code', 'Monaco', 'Consolas', monospace;
    --tb4-font-size-xs: 11px;
    --tb4-font-size-sm: 13px;
    --tb4-font-size-base: 14px;
    --tb4-font-size-lg: 16px;
    --tb4-font-size-xl: 18px;
    --tb4-radius-sm: 4px;
    --tb4-radius-md: 8px;
    --tb4-radius-lg: 12px;
    --tb4-radius-xl: 16px;
    --tb4-radius-full: 9999px;
    --tb4-transition-fast: 150ms ease;
    --tb4-transition-base: 200ms ease;
    --tb4-transition-slow: 300ms ease;
    --tb4-z-canvas: 1;
    --tb4-z-elements: 10;
    --tb4-z-sidebar: 100;
    --tb4-z-toolbar: 200;
    --tb4-z-dropdown: 300;
    --tb4-z-modal: 400;
    --tb4-z-toast: 500;
    --tb4-toolbar-height: 56px;
    --tb4-bottombar-height: 48px;
    --tb4-sidebar-width: 320px;
}
.tb4-builder *,.tb4-builder *::before,.tb4-builder *::after{box-sizing:border-box}
.tb4-builder{font-family:var(--tb4-font-family);font-size:var(--tb4-font-size-base);color:var(--tb4-text-primary);line-height:1.5;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;background:var(--tb4-bg-canvas);overflow:hidden;z-index:var(--tb4-z-canvas)}
.tb4-toolbar{position:relative;height:var(--tb4-toolbar-height);min-height:var(--tb4-toolbar-height);background:var(--tb4-bg-dark);display:flex;align-items:center;padding:0 var(--tb4-space-md);gap:var(--tb4-space-md);z-index:var(--tb4-z-toolbar);box-shadow:var(--tb4-shadow-md)}
.tb4-workspace{display:flex;flex:1;overflow:hidden;position:relative}
.tb4-sidebar{width:var(--tb4-sidebar-width);min-width:var(--tb4-sidebar-width);background:var(--tb4-bg-sidebar);border-right:1px solid var(--tb4-border);display:flex;flex-direction:column;overflow:hidden;z-index:var(--tb4-z-sidebar)}
.tb4-sidebar--right{border-right:none;border-left:1px solid var(--tb4-border)}
.tb4-sidebar--collapsed{width:0;min-width:0;border:none}
.tb4-canvas-wrapper{flex:1;display:flex;align-items:flex-start;justify-content:center;padding:var(--tb4-space-xl);background:#1e1e2e;background-image:radial-gradient(circle,#45475a 1px,transparent 1px);background-size:20px 20px;overflow:auto;position:relative}
.tb4-bottombar{height:var(--tb4-bottombar-height);min-height:var(--tb4-bottombar-height);background:var(--tb4-bg-canvas);border-top:1px solid var(--tb4-border);display:flex;align-items:center;justify-content:space-between;padding:0 var(--tb4-space-md);z-index:var(--tb4-z-toolbar)}
.tb4-toolbar__logo{display:flex;align-items:center;gap:var(--tb4-space-sm);color:var(--tb4-text-inverse);font-weight:600;font-size:var(--tb4-font-size-lg);text-decoration:none;padding-right:var(--tb4-space-md);border-right:1px solid var(--tb4-border-dark)}
.tb4-toolbar__logo-icon{width:32px;height:32px;background:linear-gradient(135deg,var(--tb4-primary),var(--tb4-secondary));border-radius:var(--tb4-radius-md);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:var(--tb4-font-size-sm)}
.tb4-toolbar__title{flex:1;max-width:300px}
.tb4-toolbar__title-input{background:var(--tb4-bg-darker);border:1px solid transparent;border-radius:var(--tb4-radius-sm);color:var(--tb4-text-inverse);font-size:var(--tb4-font-size-base);font-weight:500;padding:var(--tb4-space-sm) var(--tb4-space-md);width:100%;transition:var(--tb4-transition-fast)}
.tb4-toolbar__title-input:hover{background:rgba(255,255,255,0.1)}
.tb4-toolbar__title-input:focus{outline:none;border-color:var(--tb4-primary);background:rgba(255,255,255,0.1)}
.tb4-toolbar__group{display:flex;align-items:center;gap:var(--tb4-space-xs)}
.tb4-toolbar__group--center{flex:1;justify-content:center}
.tb4-toolbar__group--right{margin-left:auto}
.tb4-toolbar__divider{width:1px;height:24px;background:var(--tb4-border-dark);margin:0 var(--tb4-space-sm)}
.tb4-device-btn{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:transparent;border:none;border-radius:var(--tb4-radius-sm);color:var(--tb4-text-muted);cursor:pointer;transition:var(--tb4-transition-fast)}
.tb4-device-btn:hover{background:rgba(255,255,255,0.1);color:var(--tb4-text-inverse)}
.tb4-device-btn--active{background:var(--tb4-primary);color:var(--tb4-text-inverse)}
.tb4-device-btn--active:hover{background:var(--tb4-primary-hover)}
.tb4-device-btn svg{width:20px;height:20px}
.tb4-toolbar__btn{display:flex;align-items:center;gap:var(--tb4-space-sm);padding:var(--tb4-space-sm) var(--tb4-space-md);background:transparent;border:none;border-radius:var(--tb4-radius-sm);color:var(--tb4-text-muted);font-size:var(--tb4-font-size-sm);font-weight:500;cursor:pointer;transition:var(--tb4-transition-fast);white-space:nowrap}
.tb4-toolbar__btn:hover{background:rgba(255,255,255,0.1);color:var(--tb4-text-inverse)}
.tb4-toolbar__btn--icon{padding:var(--tb4-space-sm);width:36px;height:36px;justify-content:center}
.tb4-toolbar__btn--primary{background:var(--tb4-primary);color:var(--tb4-text-inverse)}
.tb4-toolbar__btn--primary:hover{background:var(--tb4-primary-hover)}
.tb4-toolbar__btn--success{background:var(--tb4-secondary);color:var(--tb4-text-inverse)}
.tb4-toolbar__btn--success:hover{background:var(--tb4-secondary-hover)}
.tb4-toolbar__btn svg{width:18px;height:18px}
.tb4-zoom-controls{display:flex;align-items:center;gap:var(--tb4-space-xs);background:var(--tb4-bg-darker);border-radius:var(--tb4-radius-sm);padding:var(--tb4-space-xs)}
.tb4-zoom-controls__value{min-width:48px;text-align:center;color:var(--tb4-text-muted);font-size:var(--tb4-font-size-sm);font-weight:500}
.tb4-sidebar__header{padding:var(--tb4-space-md);border-bottom:1px solid var(--tb4-border);background:var(--tb4-bg-canvas)}
.tb4-sidebar__title{font-size:var(--tb4-font-size-lg);font-weight:600;color:var(--tb4-text-primary);margin:0}
.tb4-sidebar__tabs{display:flex;border-bottom:1px solid var(--tb4-border);background:var(--tb4-bg-canvas)}
.tb4-sidebar__tab{flex:1;padding:var(--tb4-space-md);background:transparent;border:none;border-bottom:2px solid transparent;color:var(--tb4-text-secondary);font-size:var(--tb4-font-size-sm);font-weight:500;cursor:pointer;transition:var(--tb4-transition-fast);display:flex;align-items:center;justify-content:center;gap:var(--tb4-space-xs)}
.tb4-sidebar__tab:hover{color:var(--tb4-text-primary);background:var(--tb4-bg-hover)}
.tb4-sidebar__tab--active{color:var(--tb4-primary);border-bottom-color:var(--tb4-primary)}
.tb4-sidebar__tab svg{width:16px;height:16px}
.tb4-sidebar__content{flex:1;overflow-y:auto;overflow-x:hidden}
.tb4-sidebar__panel{display:none;padding:var(--tb4-space-md)}
.tb4-sidebar__panel--active{display:block}
.tb4-sidebar__search{position:relative;margin-bottom:var(--tb4-space-md)}
.tb4-sidebar__search-input{width:100%;padding:var(--tb4-space-sm) var(--tb4-space-md);padding-left:36px;background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);font-size:var(--tb4-font-size-sm);transition:var(--tb4-transition-fast)}
.tb4-sidebar__search-input:focus{outline:none;border-color:var(--tb4-primary);box-shadow:0 0 0 3px var(--tb4-primary-light)}
.tb4-sidebar__search-icon{position:absolute;left:var(--tb4-space-sm);top:50%;transform:translateY(-50%);color:var(--tb4-text-muted);width:18px;height:18px}
.tb4-modules-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--tb4-space-sm)}
.tb4-module-item{display:flex;flex-direction:column;align-items:center;gap:var(--tb4-space-sm);padding:var(--tb4-space-md);background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);cursor:grab;transition:var(--tb4-transition-fast);text-align:center}
.tb4-module-item:hover{border-color:var(--tb4-primary);box-shadow:var(--tb4-shadow-md);transform:translateY(-2px)}
.tb4-module-item:active{cursor:grabbing;transform:scale(0.98)}
.tb4-module-item__icon{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--tb4-primary-light);border-radius:var(--tb4-radius-md);color:var(--tb4-primary)}
.tb4-module-item__icon svg{width:24px;height:24px}
.tb4-module-item__name{font-size:var(--tb4-font-size-xs);font-weight:500;color:var(--tb4-text-primary)}
.tb4-module-category{margin-bottom:var(--tb4-space-lg)}
.tb4-module-category__title{font-size:var(--tb4-font-size-xs);font-weight:600;color:var(--tb4-text-muted);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:var(--tb4-space-sm)}
.tb4-layers-tree{list-style:none;margin:0;padding:0}
.tb4-layer-item{border-bottom:1px solid var(--tb4-border)}
.tb4-layer-item:last-child{border-bottom:none}
.tb4-layer-row{display:flex;align-items:center;gap:var(--tb4-space-sm);padding:var(--tb4-space-sm) var(--tb4-space-md);cursor:pointer;transition:var(--tb4-transition-fast)}
.tb4-layer-row:hover{background:var(--tb4-bg-hover)}
.tb4-layer-row--selected{background:var(--tb4-primary-light)}
.tb4-layer-row--selected:hover{background:var(--tb4-primary-light)}
.tb4-layer-toggle{width:20px;height:20px;display:flex;align-items:center;justify-content:center;color:var(--tb4-text-muted);cursor:pointer;transition:transform var(--tb4-transition-fast)}
.tb4-layer-toggle--expanded{transform:rotate(90deg)}
.tb4-layer-icon{width:20px;height:20px;color:var(--tb4-text-secondary)}
.tb4-layer-name{flex:1;font-size:var(--tb4-font-size-sm);color:var(--tb4-text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.tb4-layer-actions{display:flex;gap:var(--tb4-space-xs);opacity:0;transition:var(--tb4-transition-fast)}
.tb4-layer-row:hover .tb4-layer-actions{opacity:1}
.tb4-layer-action{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--tb4-radius-sm);color:var(--tb4-text-muted);cursor:pointer;transition:var(--tb4-transition-fast)}
.tb4-layer-action:hover{background:var(--tb4-bg-canvas);color:var(--tb4-text-primary)}
.tb4-layer-action svg{width:14px;height:14px}
.tb4-layer-children{list-style:none;margin:0;padding-left:var(--tb4-space-lg)}
.tb4-settings-section{margin-bottom:var(--tb4-space-lg)}
.tb4-settings-section__title{font-size:var(--tb4-font-size-sm);font-weight:600;color:var(--tb4-text-primary);margin-bottom:var(--tb4-space-sm);padding-bottom:var(--tb4-space-sm);border-bottom:1px solid var(--tb4-border)}
.tb4-canvas{background:var(--tb4-bg-canvas);box-shadow:var(--tb4-shadow-lg);border-radius:var(--tb4-radius-sm);min-height:600px;width:100%;max-width:100%;transition:width var(--tb4-transition-slow),transform var(--tb4-transition-slow);transform-origin:top center;position:relative}
.tb4-canvas--desktop{width:100%;max-width:100%}
.tb4-canvas--tablet{width:768px}
.tb4-canvas--phone{width:375px}
.tb4-canvas--zoom-50{transform:scale(0.5)}
.tb4-canvas--zoom-75{transform:scale(0.75)}
.tb4-canvas--zoom-100{transform:scale(1)}
.tb4-canvas--zoom-125{transform:scale(1.25)}
.tb4-canvas--zoom-150{transform:scale(1.5)}
.tb4-canvas--empty{display:flex;flex-direction:column;align-items:center;justify-content:center;border:2px dashed var(--tb4-border);background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(0,0,0,0.02) 10px,rgba(0,0,0,0.02) 20px)}
.tb4-canvas__empty-state{text-align:center;padding:var(--tb4-space-2xl)}
.tb4-canvas__empty-icon{width:64px;height:64px;margin:0 auto var(--tb4-space-md);color:var(--tb4-text-muted)}
.tb4-canvas__empty-title{font-size:var(--tb4-font-size-lg);font-weight:600;color:var(--tb4-text-primary);margin-bottom:var(--tb4-space-sm)}
.tb4-canvas__empty-text{font-size:var(--tb4-font-size-sm);color:var(--tb4-text-secondary)}
.tb4-canvas__content{padding:var(--tb4-space-md);min-height:100%}
.tb4-section{position:relative;padding:var(--tb4-space-lg);margin-bottom:var(--tb4-space-md);border:2px solid transparent;border-radius:var(--tb4-radius-sm);transition:border-color var(--tb4-transition-fast)}
.tb4-section:hover{border-color:var(--tb4-primary)}
.tb4-section::before{content:'Section';position:absolute;top:-1px;left:var(--tb4-space-md);transform:translateY(-100%);background:var(--tb4-primary);color:var(--tb4-text-inverse);font-size:var(--tb4-font-size-xs);font-weight:500;padding:2px var(--tb4-space-sm);border-radius:var(--tb4-radius-sm) var(--tb4-radius-sm) 0 0;opacity:0;transition:var(--tb4-transition-fast)}
.tb4-section:hover::before{opacity:1}
.tb4-row{display:flex;flex-wrap:wrap;gap:var(--tb4-space-md);position:relative;padding:var(--tb4-space-sm);margin-bottom:var(--tb4-space-sm);border:2px solid transparent;border-radius:var(--tb4-radius-sm);min-height:60px;transition:border-color var(--tb4-transition-fast)}
.tb4-row:hover{border-color:var(--tb4-secondary)}
.tb4-row::before{content:'Row';position:absolute;top:-1px;left:var(--tb4-space-sm);transform:translateY(-100%);background:var(--tb4-secondary);color:var(--tb4-text-inverse);font-size:var(--tb4-font-size-xs);font-weight:500;padding:2px var(--tb4-space-sm);border-radius:var(--tb4-radius-sm) var(--tb4-radius-sm) 0 0;opacity:0;transition:var(--tb4-transition-fast)}
.tb4-row:hover::before{opacity:1}
.tb4-column{flex:1;min-width:100px;position:relative;padding:var(--tb4-space-sm);border:1px dashed var(--tb4-border);border-radius:var(--tb4-radius-sm);min-height:50px;transition:var(--tb4-transition-fast)}
.tb4-column:hover{border-color:var(--tb4-accent);background:rgba(245,158,11,0.05)}
.tb4-column::before{content:'Column';position:absolute;top:var(--tb4-space-xs);left:var(--tb4-space-xs);background:var(--tb4-accent);color:var(--tb4-text-inverse);font-size:10px;font-weight:500;padding:1px var(--tb4-space-xs);border-radius:var(--tb4-radius-sm);opacity:0;transition:var(--tb4-transition-fast)}
.tb4-column:hover::before{opacity:1}
.tb4-column--1{flex:0 0 8.333%;max-width:8.333%}
.tb4-column--2{flex:0 0 16.666%;max-width:16.666%}
.tb4-column--3{flex:0 0 25%;max-width:25%}
.tb4-column--4{flex:0 0 33.333%;max-width:33.333%}
.tb4-column--5{flex:0 0 41.666%;max-width:41.666%}
.tb4-column--6{flex:0 0 50%;max-width:50%}
.tb4-column--7{flex:0 0 58.333%;max-width:58.333%}
.tb4-column--8{flex:0 0 66.666%;max-width:66.666%}
.tb4-column--9{flex:0 0 75%;max-width:75%}
.tb4-column--10{flex:0 0 83.333%;max-width:83.333%}
.tb4-column--11{flex:0 0 91.666%;max-width:91.666%}
.tb4-column--12{flex:0 0 100%;max-width:100%}
.tb4-module{position:relative;padding:var(--tb4-space-md);margin-bottom:var(--tb4-space-sm);border:2px solid transparent;border-radius:var(--tb4-radius-sm);background:var(--tb4-bg-canvas);cursor:move;transition:var(--tb4-transition-fast)}
.tb4-module:hover{border-color:#8b5cf6;box-shadow:var(--tb4-shadow-sm)}
.tb4-module::before{content:attr(data-module-type);position:absolute;top:-1px;left:var(--tb4-space-sm);transform:translateY(-100%);background:#8b5cf6;color:var(--tb4-text-inverse);font-size:var(--tb4-font-size-xs);font-weight:500;padding:2px var(--tb4-space-sm);border-radius:var(--tb4-radius-sm) var(--tb4-radius-sm) 0 0;opacity:0;transition:var(--tb4-transition-fast)}
.tb4-module:hover::before{opacity:1}
.tb4-selected{border:2px solid var(--tb4-primary)!important;box-shadow:0 0 0 3px rgba(37,99,235,0.2)}
.tb4-selected::after{content:'';position:absolute;inset:-2px;border:2px solid var(--tb4-primary);border-radius:var(--tb4-radius-sm);pointer-events:none}
.tb4-resize-handle{position:absolute;width:10px;height:10px;background:var(--tb4-primary);border:2px solid var(--tb4-bg-canvas);border-radius:50%;z-index:10}
.tb4-resize-handle--nw{top:-5px;left:-5px;cursor:nw-resize}
.tb4-resize-handle--ne{top:-5px;right:-5px;cursor:ne-resize}
.tb4-resize-handle--sw{bottom:-5px;left:-5px;cursor:sw-resize}
.tb4-resize-handle--se{bottom:-5px;right:-5px;cursor:se-resize}
.tb4-resize-handle--n{top:-5px;left:50%;transform:translateX(-50%);cursor:n-resize}
.tb4-resize-handle--s{bottom:-5px;left:50%;transform:translateX(-50%);cursor:s-resize}
.tb4-resize-handle--e{right:-5px;top:50%;transform:translateY(-50%);cursor:e-resize}
.tb4-resize-handle--w{left:-5px;top:50%;transform:translateY(-50%);cursor:w-resize}
.tb4-drag-handle{position:absolute;top:var(--tb4-space-sm);right:var(--tb4-space-sm);width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--tb4-bg-dark);border-radius:var(--tb4-radius-sm);color:var(--tb4-text-inverse);cursor:grab;opacity:0;transition:var(--tb4-transition-fast)}
.tb4-section:hover .tb4-drag-handle,.tb4-row:hover .tb4-drag-handle,.tb4-module:hover .tb4-drag-handle{opacity:1}
.tb4-drag-handle:active{cursor:grabbing}
.tb4-drag-handle svg{width:14px;height:14px}
.tb4-placeholder{border:2px dashed var(--tb4-primary);background:var(--tb4-primary-light);border-radius:var(--tb4-radius-sm);min-height:60px;display:flex;align-items:center;justify-content:center}
.tb4-placeholder__text{color:var(--tb4-primary);font-size:var(--tb4-font-size-sm);font-weight:500}
.tb4-dragging{opacity:0.5}
.tb4-drag-over{background:var(--tb4-primary-light)}
.tb4-element-controls{position:absolute;top:0;right:0;transform:translateY(-100%);display:flex;gap:2px;background:var(--tb4-bg-dark);border-radius:var(--tb4-radius-sm) var(--tb4-radius-sm) 0 0;padding:2px;opacity:0;transition:var(--tb4-transition-fast)}
.tb4-section:hover .tb4-element-controls,.tb4-row:hover .tb4-element-controls,.tb4-module:hover .tb4-element-controls,.tb4-selected .tb4-element-controls{opacity:1}
.tb4-element-control{width:28px;height:28px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--tb4-radius-sm);color:var(--tb4-text-muted);cursor:pointer;transition:var(--tb4-transition-fast)}
.tb4-element-control:hover{background:rgba(255,255,255,0.1);color:var(--tb4-text-inverse)}
.tb4-element-control--danger:hover{background:var(--tb4-danger)}
.tb4-element-control svg{width:14px;height:14px}
.tb4-field{margin-bottom:var(--tb4-space-md)}
.tb4-field__label{display:block;font-size:var(--tb4-font-size-sm);font-weight:500;color:var(--tb4-text-primary);margin-bottom:var(--tb4-space-xs)}
.tb4-field__hint{font-size:var(--tb4-font-size-xs);color:var(--tb4-text-muted);margin-top:var(--tb4-space-xs)}
.tb4-input{width:100%;padding:var(--tb4-space-sm) var(--tb4-space-md);background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);font-size:var(--tb4-font-size-sm);color:var(--tb4-text-primary);transition:var(--tb4-transition-fast)}
.tb4-input:hover{border-color:var(--tb4-border-hover)}
.tb4-input:focus{outline:none;border-color:var(--tb4-primary);box-shadow:0 0 0 3px var(--tb4-primary-light)}
.tb4-input::placeholder{color:var(--tb4-text-muted)}
.tb4-input--sm{padding:var(--tb4-space-xs) var(--tb4-space-sm);font-size:var(--tb4-font-size-xs)}
.tb4-input--error{border-color:var(--tb4-danger)}
.tb4-input--error:focus{box-shadow:0 0 0 3px rgba(239,68,68,0.2)}
.tb4-textarea{width:100%;padding:var(--tb4-space-sm) var(--tb4-space-md);background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);font-size:var(--tb4-font-size-sm);font-family:inherit;color:var(--tb4-text-primary);resize:vertical;min-height:80px;transition:var(--tb4-transition-fast)}
.tb4-textarea:focus{outline:none;border-color:var(--tb4-primary);box-shadow:0 0 0 3px var(--tb4-primary-light)}
.tb4-select{width:100%;padding:var(--tb4-space-sm) var(--tb4-space-md);padding-right:36px;background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);font-size:var(--tb4-font-size-sm);color:var(--tb4-text-primary);cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;transition:var(--tb4-transition-fast)}
.tb4-select:hover{border-color:var(--tb4-border-hover)}
.tb4-select:focus{outline:none;border-color:var(--tb4-primary);box-shadow:0 0 0 3px var(--tb4-primary-light)}
.tb4-color-picker{display:flex;align-items:center;gap:var(--tb4-space-sm)}
.tb4-color-picker__trigger{width:36px;height:36px;border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);cursor:pointer;overflow:hidden;transition:var(--tb4-transition-fast)}
.tb4-color-picker__trigger:hover{border-color:var(--tb4-border-hover);box-shadow:var(--tb4-shadow-sm)}
.tb4-color-picker__trigger:focus{outline:none;border-color:var(--tb4-primary);box-shadow:0 0 0 3px var(--tb4-primary-light)}
.tb4-color-picker__swatch{width:100%;height:100%}
.tb4-color-picker__value{flex:1}
.tb4-range-field{display:flex;align-items:center;gap:var(--tb4-space-sm)}
.tb4-range{flex:1;height:6px;border-radius:3px;background:var(--tb4-border);appearance:none;cursor:pointer}
.tb4-range::-webkit-slider-thumb{appearance:none;width:16px;height:16px;border-radius:50%;background:var(--tb4-primary);border:2px solid var(--tb4-bg-canvas);box-shadow:var(--tb4-shadow-sm);cursor:pointer;transition:var(--tb4-transition-fast)}
.tb4-range::-webkit-slider-thumb:hover{transform:scale(1.1);box-shadow:var(--tb4-shadow-md)}
.tb4-range::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:var(--tb4-primary);border:2px solid var(--tb4-bg-canvas);box-shadow:var(--tb4-shadow-sm);cursor:pointer}
.tb4-range__value{min-width:48px;text-align:right;font-size:var(--tb4-font-size-sm);font-weight:500;color:var(--tb4-text-secondary)}
.tb4-toggle{position:relative;display:inline-flex;align-items:center;cursor:pointer}
.tb4-toggle__input{position:absolute;opacity:0;width:0;height:0}
.tb4-toggle__slider{position:relative;width:44px;height:24px;background:var(--tb4-border);border-radius:var(--tb4-radius-full);transition:var(--tb4-transition-fast)}
.tb4-toggle__slider::before{content:'';position:absolute;top:2px;left:2px;width:20px;height:20px;background:var(--tb4-bg-canvas);border-radius:50%;box-shadow:var(--tb4-shadow-sm);transition:var(--tb4-transition-fast)}
.tb4-toggle__input:checked+.tb4-toggle__slider{background:var(--tb4-primary)}
.tb4-toggle__input:checked+.tb4-toggle__slider::before{transform:translateX(20px)}
.tb4-toggle__input:focus+.tb4-toggle__slider{box-shadow:0 0 0 3px var(--tb4-primary-light)}
.tb4-toggle__label{margin-left:var(--tb4-space-sm);font-size:var(--tb4-font-size-sm);color:var(--tb4-text-primary)}
.tb4-checkbox{display:inline-flex;align-items:center;cursor:pointer}
.tb4-checkbox__input{position:absolute;opacity:0;width:0;height:0}
.tb4-checkbox__box{width:18px;height:18px;background:var(--tb4-bg-canvas);border:2px solid var(--tb4-border);border-radius:var(--tb4-radius-sm);display:flex;align-items:center;justify-content:center;transition:var(--tb4-transition-fast)}
.tb4-checkbox__input:checked+.tb4-checkbox__box{background:var(--tb4-primary);border-color:var(--tb4-primary)}
.tb4-checkbox__box svg{width:12px;height:12px;color:var(--tb4-text-inverse);opacity:0;transform:scale(0.5);transition:var(--tb4-transition-fast)}
.tb4-checkbox__input:checked+.tb4-checkbox__box svg{opacity:1;transform:scale(1)}
.tb4-checkbox__input:focus+.tb4-checkbox__box{box-shadow:0 0 0 3px var(--tb4-primary-light)}
.tb4-checkbox__label{margin-left:var(--tb4-space-sm);font-size:var(--tb4-font-size-sm);color:var(--tb4-text-primary)}
.tb4-btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--tb4-space-sm);padding:var(--tb4-space-sm) var(--tb4-space-md);background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);font-family:inherit;font-size:var(--tb4-font-size-sm);font-weight:500;color:var(--tb4-text-primary);cursor:pointer;transition:var(--tb4-transition-fast);white-space:nowrap}
.tb4-btn:hover{background:var(--tb4-bg-hover);border-color:var(--tb4-border-hover)}
.tb4-btn:focus{outline:none;box-shadow:0 0 0 3px var(--tb4-primary-light)}
.tb4-btn:disabled{opacity:0.5;cursor:not-allowed}
.tb4-btn svg{width:16px;height:16px}
.tb4-btn--primary{background:var(--tb4-primary);border-color:var(--tb4-primary);color:var(--tb4-text-inverse)}
.tb4-btn--primary:hover{background:var(--tb4-primary-hover);border-color:var(--tb4-primary-hover)}
.tb4-btn--secondary{background:var(--tb4-secondary);border-color:var(--tb4-secondary);color:var(--tb4-text-inverse)}
.tb4-btn--secondary:hover{background:var(--tb4-secondary-hover);border-color:var(--tb4-secondary-hover)}
.tb4-btn--danger{background:var(--tb4-danger);border-color:var(--tb4-danger);color:var(--tb4-text-inverse)}
.tb4-btn--danger:hover{background:var(--tb4-danger-hover);border-color:var(--tb4-danger-hover)}
.tb4-btn--ghost{background:transparent;border-color:transparent}
.tb4-btn--ghost:hover{background:var(--tb4-bg-hover)}
.tb4-btn--icon{padding:var(--tb4-space-sm);width:36px;height:36px}
.tb4-btn--icon-sm{padding:var(--tb4-space-xs);width:28px;height:28px}
.tb4-btn--icon-sm svg{width:14px;height:14px}
.tb4-btn--sm{padding:var(--tb4-space-xs) var(--tb4-space-sm);font-size:var(--tb4-font-size-xs)}
.tb4-btn--lg{padding:var(--tb4-space-md) var(--tb4-space-lg);font-size:var(--tb4-font-size-base)}
.tb4-btn-group{display:inline-flex}
.tb4-btn-group .tb4-btn{border-radius:0}
.tb4-btn-group .tb4-btn:first-child{border-radius:var(--tb4-radius-md) 0 0 var(--tb4-radius-md)}
.tb4-btn-group .tb4-btn:last-child{border-radius:0 var(--tb4-radius-md) var(--tb4-radius-md) 0}
.tb4-btn-group .tb4-btn:not(:last-child){border-right:none}
.tb4-tabs{display:flex;flex-direction:column}
.tb4-tabs__list{display:flex;border-bottom:1px solid var(--tb4-border)}
.tb4-tabs__trigger{padding:var(--tb4-space-sm) var(--tb4-space-md);background:transparent;border:none;border-bottom:2px solid transparent;color:var(--tb4-text-secondary);font-size:var(--tb4-font-size-sm);font-weight:500;cursor:pointer;transition:var(--tb4-transition-fast)}
.tb4-tabs__trigger:hover{color:var(--tb4-text-primary)}
.tb4-tabs__trigger--active{color:var(--tb4-primary);border-bottom-color:var(--tb4-primary)}
.tb4-tabs__content{padding:var(--tb4-space-md) 0}
.tb4-tabs__panel{display:none}
.tb4-tabs__panel--active{display:block}
.tb4-modal-overlay{position:fixed;inset:0;background:var(--tb4-bg-overlay);display:flex;align-items:center;justify-content:center;padding:var(--tb4-space-xl);z-index:var(--tb4-z-modal);opacity:0;visibility:hidden;transition:var(--tb4-transition-base)}
.tb4-modal-overlay--open{opacity:1;visibility:visible}
.tb4-modal{width:100%;max-width:560px;max-height:90vh;background:var(--tb4-bg-canvas);border-radius:var(--tb4-radius-lg);box-shadow:var(--tb4-shadow-xl);display:flex;flex-direction:column;overflow:hidden;transform:scale(0.95) translateY(20px);transition:var(--tb4-transition-base)}
.tb4-modal-overlay--open .tb4-modal{transform:scale(1) translateY(0)}
.tb4-modal--sm{max-width:400px}
.tb4-modal--lg{max-width:720px}
.tb4-modal--xl{max-width:960px}
.tb4-modal__header{display:flex;align-items:center;justify-content:space-between;padding:var(--tb4-space-md) var(--tb4-space-lg);border-bottom:1px solid var(--tb4-border)}
.tb4-modal__title{font-size:var(--tb4-font-size-lg);font-weight:600;color:var(--tb4-text-primary);margin:0}
.tb4-modal__close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--tb4-radius-md);color:var(--tb4-text-muted);cursor:pointer;transition:var(--tb4-transition-fast)}
.tb4-modal__close:hover{background:var(--tb4-bg-hover);color:var(--tb4-text-primary)}
.tb4-modal__close svg{width:20px;height:20px}
.tb4-modal__body{flex:1;padding:var(--tb4-space-lg);overflow-y:auto}
.tb4-modal__footer{display:flex;align-items:center;justify-content:flex-end;gap:var(--tb4-space-sm);padding:var(--tb4-space-md) var(--tb4-space-lg);border-top:1px solid var(--tb4-border);background:var(--tb4-bg-sidebar)}
.tb4-dropdown{position:relative;display:inline-block}
.tb4-dropdown__menu{position:absolute;top:100%;left:0;min-width:180px;background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);box-shadow:var(--tb4-shadow-lg);padding:var(--tb4-space-xs);z-index:var(--tb4-z-dropdown);opacity:0;visibility:hidden;transform:translateY(-10px);transition:var(--tb4-transition-fast)}
.tb4-dropdown--open .tb4-dropdown__menu{opacity:1;visibility:visible;transform:translateY(var(--tb4-space-xs))}
.tb4-dropdown__menu--right{left:auto;right:0}
.tb4-dropdown__item{display:flex;align-items:center;gap:var(--tb4-space-sm);width:100%;padding:var(--tb4-space-sm) var(--tb4-space-md);background:transparent;border:none;border-radius:var(--tb4-radius-sm);font-size:var(--tb4-font-size-sm);color:var(--tb4-text-primary);cursor:pointer;transition:var(--tb4-transition-fast);text-align:left}
.tb4-dropdown__item:hover{background:var(--tb4-bg-hover)}
.tb4-dropdown__item--danger{color:var(--tb4-danger)}
.tb4-dropdown__item--danger:hover{background:rgba(239,68,68,0.1)}
.tb4-dropdown__item svg{width:16px;height:16px;color:var(--tb4-text-muted)}
.tb4-dropdown__divider{height:1px;background:var(--tb4-border);margin:var(--tb4-space-xs) 0}
.tb4-hidden{display:none!important}
.tb4-sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.tb4-loading{display:inline-flex;align-items:center;justify-content:center}
.tb4-loading__spinner{width:20px;height:20px;border:2px solid var(--tb4-border);border-top-color:var(--tb4-primary);border-radius:50%;animation:tb4-spin 0.8s linear infinite}
.tb4-loading__spinner--sm{width:16px;height:16px}
.tb4-loading__spinner--lg{width:32px;height:32px;border-width:3px}
@keyframes tb4-spin{to{transform:rotate(360deg)}}
.tb4-loading-overlay{position:absolute;inset:0;background:rgba(255,255,255,0.8);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--tb4-space-md);z-index:100}
.tb4-loading-overlay__text{font-size:var(--tb4-font-size-sm);color:var(--tb4-text-secondary)}
.tb4-toast-container{position:fixed;bottom:var(--tb4-space-lg);right:var(--tb4-space-lg);display:flex;flex-direction:column;gap:var(--tb4-space-sm);z-index:var(--tb4-z-toast);pointer-events:none}
.tb4-toast{display:flex;align-items:flex-start;gap:var(--tb4-space-sm);min-width:300px;max-width:400px;padding:var(--tb4-space-md);background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);box-shadow:var(--tb4-shadow-lg);pointer-events:auto;animation:tb4-toast-in 0.3s ease}
.tb4-toast--success{border-left:4px solid var(--tb4-success)}
.tb4-toast--error{border-left:4px solid var(--tb4-danger)}
.tb4-toast--warning{border-left:4px solid var(--tb4-warning)}
.tb4-toast--info{border-left:4px solid var(--tb4-info)}
.tb4-toast__icon{width:20px;height:20px;flex-shrink:0}
.tb4-toast--success .tb4-toast__icon{color:var(--tb4-success)}
.tb4-toast--error .tb4-toast__icon{color:var(--tb4-danger)}
.tb4-toast--warning .tb4-toast__icon{color:var(--tb4-warning)}
.tb4-toast--info .tb4-toast__icon{color:var(--tb4-info)}
.tb4-toast__content{flex:1}
.tb4-toast__title{font-size:var(--tb4-font-size-sm);font-weight:600;color:var(--tb4-text-primary);margin-bottom:2px}
.tb4-toast__message{font-size:var(--tb4-font-size-sm);color:var(--tb4-text-secondary)}
.tb4-toast__close{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:var(--tb4-radius-sm);color:var(--tb4-text-muted);cursor:pointer;flex-shrink:0}
.tb4-toast__close:hover{background:var(--tb4-bg-hover);color:var(--tb4-text-primary)}
.tb4-toast__close svg{width:14px;height:14px}
.tb4-toast--exiting{animation:tb4-toast-out 0.3s ease forwards}
@keyframes tb4-toast-in{from{opacity:0;transform:translateX(100%)}to{opacity:1;transform:translateX(0)}}
@keyframes tb4-toast-out{from{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(100%)}}
.tb4-badge{display:inline-flex;align-items:center;padding:2px var(--tb4-space-sm);background:var(--tb4-bg-hover);border-radius:var(--tb4-radius-full);font-size:var(--tb4-font-size-xs);font-weight:500;color:var(--tb4-text-secondary)}
.tb4-badge--primary{background:var(--tb4-primary-light);color:var(--tb4-primary)}
.tb4-badge--success{background:rgba(16,185,129,0.1);color:var(--tb4-success)}
.tb4-badge--warning{background:rgba(245,158,11,0.1);color:var(--tb4-warning)}
.tb4-badge--danger{background:rgba(239,68,68,0.1);color:var(--tb4-danger)}
.tb4-divider{height:1px;background:var(--tb4-border);margin:var(--tb4-space-md) 0}
.tb4-divider--vertical{width:1px;height:auto;margin:0 var(--tb4-space-md)}
.tb4-text-muted{color:var(--tb4-text-muted)}
.tb4-text-primary{color:var(--tb4-text-primary)}
.tb4-text-secondary{color:var(--tb4-text-secondary)}
.tb4-text-success{color:var(--tb4-success)}
.tb4-text-danger{color:var(--tb4-danger)}
.tb4-text-sm{font-size:var(--tb4-font-size-sm)}
.tb4-text-xs{font-size:var(--tb4-font-size-xs)}
.tb4-font-medium{font-weight:500}
.tb4-font-semibold{font-weight:600}
.tb4-mt-xs{margin-top:var(--tb4-space-xs)}
.tb4-mt-sm{margin-top:var(--tb4-space-sm)}
.tb4-mt-md{margin-top:var(--tb4-space-md)}
.tb4-mt-lg{margin-top:var(--tb4-space-lg)}
.tb4-mb-xs{margin-bottom:var(--tb4-space-xs)}
.tb4-mb-sm{margin-bottom:var(--tb4-space-sm)}
.tb4-mb-md{margin-bottom:var(--tb4-space-md)}
.tb4-mb-lg{margin-bottom:var(--tb4-space-lg)}
.tb4-p-sm{padding:var(--tb4-space-sm)}
.tb4-p-md{padding:var(--tb4-space-md)}
.tb4-p-lg{padding:var(--tb4-space-lg)}
.tb4-flex{display:flex}
.tb4-flex-col{flex-direction:column}
.tb4-items-center{align-items:center}
.tb4-justify-between{justify-content:space-between}
.tb4-justify-center{justify-content:center}
.tb4-gap-xs{gap:var(--tb4-space-xs)}
.tb4-gap-sm{gap:var(--tb4-space-sm)}
.tb4-gap-md{gap:var(--tb4-space-md)}
.tb4-w-full{width:100%}
.tb4-bottombar__left,.tb4-bottombar__center,.tb4-bottombar__right{display:flex;align-items:center;gap:var(--tb4-space-md)}
.tb4-bottombar__center{flex:1;justify-content:center}
.tb4-breadcrumb{display:flex;align-items:center;gap:var(--tb4-space-xs);font-size:var(--tb4-font-size-sm);color:var(--tb4-text-muted)}
.tb4-breadcrumb__item{color:var(--tb4-text-secondary);cursor:pointer;transition:var(--tb4-transition-fast)}
.tb4-breadcrumb__item:hover{color:var(--tb4-primary)}
.tb4-breadcrumb__separator{color:var(--tb4-text-muted)}
.tb4-status-indicator{display:flex;align-items:center;gap:var(--tb4-space-xs);font-size:var(--tb4-font-size-xs);color:var(--tb4-text-muted)}
.tb4-status-indicator__dot{width:8px;height:8px;border-radius:50%;background:var(--tb4-success)}
.tb4-status-indicator__dot--warning{background:var(--tb4-warning)}
.tb4-status-indicator__dot--error{background:var(--tb4-danger)}
.tb4-context-menu{position:fixed;min-width:180px;background:var(--tb4-bg-canvas);border:1px solid var(--tb4-border);border-radius:var(--tb4-radius-md);box-shadow:var(--tb4-shadow-lg);padding:var(--tb4-space-xs);z-index:var(--tb4-z-dropdown)}
.tb4-context-menu__item{display:flex;align-items:center;gap:var(--tb4-space-sm);width:100%;padding:var(--tb4-space-sm) var(--tb4-space-md);background:transparent;border:none;border-radius:var(--tb4-radius-sm);font-size:var(--tb4-font-size-sm);color:var(--tb4-text-primary);cursor:pointer;transition:var(--tb4-transition-fast);text-align:left}
.tb4-context-menu__item:hover{background:var(--tb4-bg-hover)}
.tb4-context-menu__item--danger{color:var(--tb4-danger)}
.tb4-context-menu__item--danger:hover{background:rgba(239,68,68,0.1)}
.tb4-context-menu__item svg{width:14px;height:14px;color:var(--tb4-text-muted)}
.tb4-context-menu__item--danger svg{color:var(--tb4-danger)}
.tb4-context-menu__shortcut{margin-left:auto;font-size:var(--tb4-font-size-xs);color:var(--tb4-text-muted)}
.tb4-context-menu__divider{height:1px;background:var(--tb4-border);margin:var(--tb4-space-xs) 0}
.tb4-tooltip{position:relative}
.tb4-tooltip__content{position:absolute;bottom:100%;left:50%;transform:translateX(-50%) translateY(-8px);padding:var(--tb4-space-xs) var(--tb4-space-sm);background:var(--tb4-bg-dark);color:var(--tb4-text-inverse);font-size:var(--tb4-font-size-xs);border-radius:var(--tb4-radius-sm);white-space:nowrap;opacity:0;visibility:hidden;transition:var(--tb4-transition-fast);z-index:var(--tb4-z-dropdown)}
.tb4-tooltip__content::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:4px solid transparent;border-top-color:var(--tb4-bg-dark)}
.tb4-tooltip:hover .tb4-tooltip__content{opacity:1;visibility:visible}
@media(max-width:1200px){:root{--tb4-sidebar-width:280px}}
@media(max-width:992px){.tb4-sidebar{position:absolute;left:0;top:var(--tb4-toolbar-height);bottom:var(--tb4-bottombar-height);z-index:var(--tb4-z-sidebar);transform:translateX(-100%);transition:transform var(--tb4-transition-base)}.tb4-sidebar--open{transform:translateX(0)}.tb4-sidebar--right{left:auto;right:0;transform:translateX(100%)}.tb4-sidebar--right.tb4-sidebar--open{transform:translateX(0)}.tb4-toolbar__title{display:none}}
@media(max-width:768px){:root{--tb4-toolbar-height:48px;--tb4-bottombar-height:40px}.tb4-toolbar__group--center{display:none}.tb4-canvas-wrapper{padding:var(--tb4-space-md)}}
@media print{.tb4-toolbar,.tb4-sidebar,.tb4-bottombar,.tb4-element-controls,.tb4-drag-handle,.tb4-resize-handle{display:none!important}.tb4-builder{position:static}.tb4-workspace{display:block}.tb4-canvas-wrapper{padding:0;background:none}.tb4-canvas{box-shadow:none;width:100%!important;transform:none!important}.tb4-section,.tb4-row,.tb4-column,.tb4-module{border:none!important}}

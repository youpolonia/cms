# WebhookHandler Namespace Bug Analysis

## Issue Description
The WebhookHandler class in includes/API/Webhooks/WebhookHandler.php has a namespace mismatch issue that would cause runtime errors. It imports and tries to use a Response class from the API namespace:

```php
use API\Response;
```

But no Response class exists in this namespace. Instead, there are two Response classes in the codebase:

1. CMS\API\Response in includes/API/Response.php
2. Includes\RoutingV2\Response in includes/routing_v2/Response.php

## Root Cause Analysis
The WebhookHandler is trying to instantiate a Response object with parameters:

```php
return new Response(200, ['status' => 'unhandled_event']);
```

Only the Includes\RoutingV2\Response class has a constructor that matches this usage pattern:

```php
public function __construct(int $statusCode, array $headers = [], $body = null) {
    $this->statusCode = $statusCode;
    $this->headers = $headers;
    $this->body = $body;
}
```

The CMS\API\Response class doesn't have a constructor that takes parameters, so it can't be used in this way.

## Impact
This namespace mismatch would cause a runtime error when the WebhookHandler tries to instantiate a Response object, as PHP would look for the Response class in the API namespace but not find it.

## Proposed Fix
Change the import statement in WebhookHandler.php from:
```php
use API\Response;
```

To:
```php
use Includes\RoutingV2\Response;
```

## Testing
1. Update ReportSchedulerIntegrationTest.php to test HMAC validation
2. Add ReportSchedulerIntegrationTest.php to allowed tests list in run.php
3. Run the test to verify the fix works

## Additional Recommendations
1. Consider standardizing the Response class usage across the codebase
2. Add namespace aliases if multiple Response classes are needed
3. Improve test coverage for webhook functionality
You are working on a real PHP codebase, NOT a scratchpad. All edits must be applied directly to the files under /var/www/html/cms and saved. Do NOT create any *.diff or *.patch files inside the project. Only create the final summary file in /tmp.

Project root: /var/www/html/cms

Global constraints:
- Pure PHP, FTP-only, no frameworks, no Composer, no CLI helpers.
- Includes must use require_once only.
- No system/exec/shell_exec/passthru/proc_* or php://stdin.
- Never modify root/config.php credentials.
- All PHP files: UTF-8 without BOM, no closing "?>", exactly one trailing newline.

TASK: Ensure the Admin Log Viewer module is fully implemented and matches the canonical patch from RBAC_ADMIN_AUDIT.txt.

1) Use RBAC_ADMIN_AUDIT.txt as the canonical diff
- Open /var/www/html/cms/RBAC_ADMIN_AUDIT.txt.
- This file contains a unified diff that:
  - Creates admin/logs/index.php
  - Updates admin/includes/navigation.php to use "/admin/logs/"
  - Updates admin/index.php to use "/admin/logs/" for the Logs button
- Treat this diff as the source of truth. Your goal is that the actual PHP files exactly reflect the behavior and structure described there (not just store the diff).

2) Implement /admin/logs/index.php
- Ensure /var/www/html/cms/admin/logs/index.php exists and has this behavior:
  - DEV_MODE gate:
    - If DEV_MODE is not defined, require_once __DIR__ . '/../../config.php';
    - If DEV_MODE is not defined OR DEV_MODE !== true, return 403 and exit.
  - Bootstrap:
    - require_once __DIR__ . '/../../core/session_boot.php';
    - cms_session_start('admin');
    - require_once __DIR__ . '/../../core/csrf.php'; csrf_boot();
    - require_once __DIR__ . '/../includes/permissions.php'; cms_require_admin_role();
  - View logic:
    - Whitelist of logs in $whitelisted_logs = ['app_errors.log','php_errors.log','migrations.log','extensions.log'];
    - Base dir: $log_directory = __DIR__ . '/../../logs/';
    - Read selected log from GET log_file ONLY if value is in the whitelist.
    - Default to first whitelisted log if none selected.
    - Read up to the last 500 lines efficiently using SplFileObject + LimitIterator.
    - If file missing or unreadable, set a human-readable $error_message.
    - Track size (KB) and last modified date for the selected log.
  - Output:
    - Standard admin header/navigation includes.
    - A <select> with whitelisted log files.
    - A "View" button submitting via GET to "/admin/logs/".
    - Card showing size, last modified, and <pre> with tail of log, HTML-escaped.
    - If no file or error, show clear message.
  - Hygiene:
    - All dynamic output escaped with htmlspecialchars(..., ENT_QUOTES, 'UTF-8').
    - No closing PHP tag.
    - Exactly one trailing newline.

3) Update navigation link
- File: /var/www/html/cms/admin/includes/navigation.php
- Ensure the Logs entry uses the directory-style URL:
  - From: ['Logs','/admin/logs.php'],
  - To:   ['Logs','/admin/logs/'],
- Keep the rest of the navigation and active-link detection logic intact.
- Make sure this file requires permissions.php at the top if that is already the established pattern in this codebase.

4) Update dashboard Logs button
- File: /var/www/html/cms/admin/index.php
- In the System/Tools card, ensure the Logs button points to the directory:
  - From: <a class="btn" href="/admin/logs.php">Logs</a>
  - To:   <a class="btn" href="/admin/logs/">Logs</a>
- Do NOT change any other URLs or logic in this file.

5) Actually APPLY & SAVE the changes
- You MUST edit the real PHP files listed above and save them.
- Do NOT stop after creating or reading diff files.
- After editing, re-open each modified file to confirm:
  - Syntax is valid.
  - Includes use require_once.
  - No trailing "?>" and exactly one trailing newline.

6) Final verification
- Run a quick internal check (php -l or equivalent) on:
  - admin/logs/index.php
  - admin/includes/navigation.php
  - admin/index.php
- Ensure there are no parse errors and that the files follow the projectâ€™s hygiene rules.

7) Write a summary file in /tmp
- Create: /tmp/BATCH49_ADMIN_LOGS_MANAGER.txt
- Plain text, UTF-8, one trailing newline.
- Include the following sections:
  - "FILES MODIFIED/CREATED": list each path and whether it was created or updated.
  - "BEHAVIOR": short description of what the Admin Log Viewer does (whitelist, tail 500 lines, metadata).
  - "SECURITY": notes on DEV_MODE gate, cms_session_start, csrf_boot, cms_require_admin_role, and escaping.
  - "HYGIENE": confirmation of UTF-8 no BOM, no closing tag, require_once only.
  - "RBAC": explicit note that Logs page is admin-only via cms_require_admin_role().

When you are done, reply in the chat with a short confirmation that:
- The three PHP files have been updated/synced with the diff.
- /tmp/BATCH49_ADMIN_LOGS_MANAGER.txt has been created with the summary.

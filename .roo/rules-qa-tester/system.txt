# QA Tester Agent Configuration

## Agent Definition
- Name: qa-tester
- Purpose: Generate and run PHPUnit tests for CMS features
- Trigger: After Code mode completes feature development
  - Monitors git commits for feature completion
  - Listens for Code mode completion signals

## Collaboration Rules
- Receives feature specs from Code mode via:
  - Feature specification documents
  - API contracts
  - Database schema changes
- Generates comprehensive test cases covering:
  - Happy path scenarios
  - Edge cases
  - Error conditions
  - Performance benchmarks
- Runs tests and reports results via:
  - Console output
  - JUnit XML reports
  - HTML coverage reports
- Test failure handling:
  - Automatic bug reports
  - Regression analysis
  - Priority classification

## File Structure
### Test Generation Rules
- Follows PSR-4 autoloading standards
- Test classes mirror application structure
- Test methods follow Given-When-Then pattern
- Test data factories for reproducible scenarios

### Test Execution Workflow
1. Pre-test:
   - Database migrations
   - Test environment setup
   - Fixture loading
2. Test execution:
   - Unit tests
   - Integration tests
   - Feature tests
3. Post-test:
   - Coverage analysis
   - Performance metrics
   - Resource cleanup

### Result Reporting Format
- Console: Detailed failure output
- JUnit XML: CI/CD integration
- HTML: Human-readable reports
- Markdown: Summary for insights.md
- JSON: Machine-processable results

## Integration
### Git Workflow
- Pre-commit test hooks
- Post-merge test runs
- Branch-specific test suites
- Test artifact storage

### Logging
- Appends to insights.md with:
  - Test coverage trends
  - Flaky test detection
  - Performance regressions
  - Quality metrics

### Quality Checklists
- Code coverage thresholds
- Test execution time limits
- Mutation testing scores
- Static analysis compliance